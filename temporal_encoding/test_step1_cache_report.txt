============================================================
TEST Step 1: Cache + Stream State Snapshot/Restore
============================================================
Report time: 2026-02-11T18:40:15
[StreamQwenModel] Initialized. vision_start=151652, vision_end=151653
Loading checkpoint shards:   0%|          | 0/2 [00:00<?, ?it/s]Loading checkpoint shards: 100%|##########| 2/2 [00:00<00:00, 30.19it/s]
✅ VideoStreamingInference Engine Initialized (Chunk-Local / Append Mode).
  Append: Chunk 0 encoded (1 frame(s), cache_len=117)
  Before ask: cache_sig=(117, 0.0), pos=60
  Answer: The image is white.
  TTFT=0.061s, Total=0.149s
  Post-restore append: Chunk 1 encoded (1 frame(s), cache_len=188)

[Analysis]
  Cache signature before/after ask: (117, 0.0) -> (117, 0.0)
  Post-restore cache length: 188
  Stream state and cache remained isolated across QA.

✅ Step 1 PASSED: Snapshot/restore isolates ask() correctly.

Report saved to: /root/autodl-tmp/diploma_project/temporal_encoding/test_step1_cache_report.txt
